use crate::utils::arrayX::ArrayX;
use crate::BigNum;
use crate::BigNumParamsTrait;
use crate::bignum_test::{
    test_mul, test_add, test_div, test_invmod, assert_is_not_equal, assert_is_not_equal_fail,
    assert_is_not_equal_overloaded_lhs_fail, assert_is_not_equal_overloaded_rhs_fail,
    assert_is_not_equal_overloaded_fail
};
use crate::mul::schoolbook_mult;

struct Test1675NonPrimeParams {}

impl BigNumParamsTrait<14> for Test1675NonPrimeParams {
  fn modulus() -> [Field; 14] {
    [1190089749466968952428029716451280863, 380554426368559791470138611706327777, 425952709624644951924166959132858521, 227663887791546986423921609965582077, 819968446720173555326848074759733434, 688909152570846334467664152169294282, 798800549518959660309797835398149178, 498395236167225817438780683314620582, 1194915097733889519048277355220590170, 786892534190405046919732025024858393, 754541745421023433359473990684916578, 935650328326481940026942997571776833, 1246018724485316172770321238419970876, 20327858027803777167763369396704607]
  }

  fn double_modulus() -> [Field; 14] {
    [1050951503149022031952252372622217150, 761108852737119582940277223412655555, 851905419249289903848333918265717042, 455327775583093972847843219931164154, 310708897655431237749889089239122292, 48590309356776796031521244058243989, 268373103253003447715788610515953781, 996790472334451634877561366629241165, 1060602199682863165192747650160835764, 244557072595894220935656989769372211, 179855495057130993815140921089488581, 542072660868048007150078934863209091, 1162809453185716472636835416559597177, 40655716055607554335526738793409215]
  }

  fn redc_param() -> [Field; 14] {
    // floor(2^(2*1675) / p
    [664939805504676503347754629182720402, 803460555657011898758279489744691494, 199819957417466218854515767117765112, 221246877375274564267635280650911751, 217132109735186334788295522688345614, 284131496391741780596700264782389100, 210470853900965833642647966884858007, 674327365959937849421674107090814441, 1292346202441504214835929237672597909, 348952928072928464888050264912179024, 117813206615734238977929453606063346, 963900174811838593432450812074710646, 633262773113464113836553805365989653, 84880393415658718317376324561020776]
  }

  fn modulus_bits() -> u64 {
    1675
  }

  fn mult(a: [Field; 14], b: [Field; 14]) -> ArrayX<Field, 14, 2> {
    schoolbook_mult(a, b)
  }
}
