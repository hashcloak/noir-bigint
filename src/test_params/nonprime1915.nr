use crate::utils::arrayX::ArrayX;
use crate::BigNum;
use crate::BigNumParamsTrait;
use crate::bignum_test::{
    test_mul, test_add, test_div, test_invmod, assert_is_not_equal, assert_is_not_equal_fail,
    assert_is_not_equal_overloaded_lhs_fail, assert_is_not_equal_overloaded_rhs_fail,
    assert_is_not_equal_overloaded_fail
};
use crate::mul::{schoolbook_mult, karatsuba_mult_16};

struct Test1915NonPrimeParams {}

impl BigNumParamsTrait<16> for Test1915NonPrimeParams {
  fn modulus() -> [Field; 16] {
    [817805926892792257702710333630229040, 1326055712110083373556374273527901991, 803524180783166858152940590052981050, 184580871381399409653310904595572406, 465334121543569407745778395906168971, 259960637754191713007274103134653391, 931755597769517642064760576418394579, 687034889371832095037532938789500536, 1247413701610518289056835958718466896, 1212068582076288490557887958472450820, 309827591813783368056386273526745089, 103271957163449901667302356038089968, 1309392953667360630014747732299127122, 735993241018902944004934683710518547, 184783984939505022642273550543608117, 13966033643366458884960477404243520]
  }

  // Note the most significant limb is 121 bits
  fn double_modulus() -> [Field; 16] {
    [306383858000668642501613606980113504, 1322883428435250874208941486775459407, 277820365781417843402074119825617525, 369161742762798819306621809191144813, 930668243087138815491556791812337942, 519921275508383426014548206269306782, 534283199754119411225714092556444582, 44841782958748317171258817298656497, 1165599407436120705209864857156589217, 1094909168367661108211968856664557065, 619655183627566736112772547053490179, 206543914326899803334604712076179936, 1289557911549805387125688404317909668, 142758486252890015106062307140692519, 369567969879010045284547101087216235, 27932067286732917769920954808487040]
  }

  // Note the most significant limb is 121 bits
  fn redc_param() -> [Field; 16] {
    [520516355474342777286490847318805641, 77926945913084185721448298270516240, 895217978495563362649314081007991221, 1172411934314244202704331091407743347, 1029583035077305777007242841255128365, 1141623890480017602569250063351936397, 947731652115721781520217301112945119, 239504177383216461307576865576288001, 1082502431697037491868747733014576116, 197892787806198650517247142723789389, 1276496763590655355819320805743336109, 1053867729421747000928486063459167722, 908474352477215532341661128163818266, 725125924476020201309391579186873721, 219844761538438357188049936633919696, 247090423918201455852235637447930072]
  }

  fn modulus_bits() -> u64 {
    1915 
  }

  fn mult(a: [Field; 16], b: [Field; 16]) -> ArrayX<Field, 16, 2> {
    schoolbook_mult(a, b)
  }
}
