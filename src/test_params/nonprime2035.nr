use crate::utils::arrayX::ArrayX;
use crate::BigNum;
use crate::BigNumParamsTrait;
use crate::bignum_test::{
    test_mul, test_add, test_div, test_invmod, assert_is_not_equal, assert_is_not_equal_fail,
    assert_is_not_equal_overloaded_lhs_fail, assert_is_not_equal_overloaded_rhs_fail,
    assert_is_not_equal_overloaded_fail
};
use crate::mul::schoolbook_mult;

struct Test2035NonPrimeParams {}

impl BigNumParamsTrait<17> for Test2035NonPrimeParams {
  fn modulus() -> [Field; 17] {
    [1113333746925778117989290941319282813, 312069023125197152529363584632365550, 249939772470786581355913242054907764, 933210953877535618432691450900417369, 1187898306629608306726456438818408288, 303333794560777478527906585395556251, 191427491846640163720947121445039597, 471542483167834524032110448067759410, 16647307275233330465941796361731614, 246639610392189433898552578935052946, 1201983116357645251326391043553661519, 331250463240252161492623176642114980, 1055313181943504668450018882935966012, 221474493788353245008597579787931905, 413862372125553544335765860231966421, 1243809444381494584129532926267762169, 38879853190006115586323227075873441]
  }

  // Note the most significant limb is 121 bits
  fn double_modulus() -> [Field; 17] {
    [897439498066640363074774822358221050, 624138046250394305058727169264731101, 499879544941573162711826484109815528, 537193911970155363961575841520490162, 1046568617474300740549105817356472001, 606667589121554957055813170791112503, 382854983693280327441894242890079194, 943084966335669048064220896135518820, 33294614550466660931883592723463228, 493279220784378867797105157870105892, 1074738236930374629748975026826978462, 662500926480504322985246353284229961, 781398368102093463996230705591587448, 442948987576706490017195159575863811, 827724744251107088671531720463932842, 1158390892978073295355258792255179762, 77759706380012231172646454151746883]
  }

  // Note the most significant limb is 121 bits
  fn redc_param() -> [Field; 17] {
    [1205083519736315731549325568362798719, 701717740639501211321639981246927004, 1148041633734300220121241500158978069, 1123018471655337943836655949031657317, 1222877657179908361233107009558060701, 1080702935766108957320894932962123546, 920922502205863811259923518005030793, 1121176303910701439964135520699531511, 1271905750178274324100717442511457281, 244960307629788941263986532536101020, 942108658922019084189919661114024358, 53188323121409447081698517325088555, 96142236178819541014809886362379253, 8499199296709695912988740613558634, 1098118490254720487888741345005770971, 1266315436707195911023245118399785597, 177514722420933045216216953348690354]
  }

  fn modulus_bits() -> u64 {
    2035
  }

  fn mult(a: [Field; 17], b: [Field; 17]) -> ArrayX<Field, 17, 2> {
    schoolbook_mult(a, b)
  }
}
